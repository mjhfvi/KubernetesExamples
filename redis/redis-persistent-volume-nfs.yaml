---
apiVersion: v1
kind: PersistentVolume
metadata:
  # annotations:
  #   pv.kubernetes.io/provisioned-by: nfs.csi.k8s.io
  name: redis-persistent-volume-nfs
  labels:
    app: storage-nfs
spec:
  capacity:
    storage: 10Gi
  # volumeMode: Filesystem
  accessModes: [ReadWriteMany]
  persistentVolumeReclaimPolicy: Retain
  storageClassName: storage-nfs
  # mountOptions:
  #   - nfsvers=4.1
  # hostPath:
  #   path: /home/tzahi/storage
  nfs:
    path: /home/tzahi/storage/redis
    server: 172.22.54.171
    readOnly: false
  # csi:
  #   driver: nfs.csi.k8s.io
  #   # volumeHandle format: {nfs-server-address}#{sub-dir-name}#{share-name}
  #   # make sure this value is unique for every share in the cluster
  #   volumeHandle: nfs-server.default.svc.cluster.local/share##
  #   volumeAttributes:
  #     server: 172.22.54.171
  #     share: /home/tzahi/storage/
